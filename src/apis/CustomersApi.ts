/* tslint:disable */
/* eslint-disable */
/**
 * Cashful API
 * Developer documentation for the Cashful platform.
 *
 * The version of the OpenAPI document: 0.7.0
 * Contact: support@cashful.africa
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  CreateCustomerDto,
  CustomerBalanceDto,
  CustomerResponseDto,
  ErrorResponseDto,
  ListCustomerPaymentMethodsResponseDto,
  ListCustomerTransactionsResponseDto,
  ListCustomersResponseDto,
  UpdateCustomerDto,
} from '../models/index';
import {
    CreateCustomerDtoFromJSON,
    CreateCustomerDtoToJSON,
    CustomerBalanceDtoFromJSON,
    CustomerBalanceDtoToJSON,
    CustomerResponseDtoFromJSON,
    CustomerResponseDtoToJSON,
    ErrorResponseDtoFromJSON,
    ErrorResponseDtoToJSON,
    ListCustomerPaymentMethodsResponseDtoFromJSON,
    ListCustomerPaymentMethodsResponseDtoToJSON,
    ListCustomerTransactionsResponseDtoFromJSON,
    ListCustomerTransactionsResponseDtoToJSON,
    ListCustomersResponseDtoFromJSON,
    ListCustomersResponseDtoToJSON,
    UpdateCustomerDtoFromJSON,
    UpdateCustomerDtoToJSON,
} from '../models/index';

export interface CreateCustomerRequest {
    createCustomerDto: CreateCustomerDto;
}

export interface GetCustomerBalanceRequest {
    id: string;
}

export interface ListCustomerPaymentMethodsRequest {
    id: string;
    limit?: number;
    offset?: number;
}

export interface ListCustomerTransactionsRequest {
    id: string;
    limit?: number;
    offset?: number;
}

export interface ListCustomersRequest {
    merchantId?: string;
    limit?: number;
    offset?: number;
    email?: string;
    search?: string;
}

export interface RetrieveCustomerRequest {
    id: string;
}

export interface UpdateCustomerRequest {
    id: string;
    updateCustomerDto: UpdateCustomerDto;
}

/**
 * 
 */
export class CustomersApi extends runtime.BaseAPI {

    /**
     * Creates a new customer object. This also provisions their \"cash balance\" feature (starting at 0).
     * Create Customer
     */
    async createCustomerRaw(requestParameters: CreateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerResponseDto>> {
        if (requestParameters['createCustomerDto'] == null) {
            throw new runtime.RequiredError(
                'createCustomerDto',
                'Required parameter "createCustomerDto" was null or undefined when calling createCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: CreateCustomerDtoToJSON(requestParameters['createCustomerDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerResponseDtoFromJSON(jsonValue));
    }

    /**
     * Creates a new customer object. This also provisions their \"cash balance\" feature (starting at 0).
     * Create Customer
     */
    async createCustomer(createCustomerDto: CreateCustomerDto, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerResponseDto> {
        const response = await this.createCustomerRaw({ createCustomerDto: createCustomerDto }, initOverrides);
        return await response.value();
    }

    /**
     * Retrieves the real-time balance for a single customer\'s \"cash balance\" (the \"wallet-enabling\" feature).
     * Get Customer\'s Cash Balance
     */
    async getCustomerBalanceRaw(requestParameters: GetCustomerBalanceRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerBalanceDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling getCustomerBalance().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers/{id}/balance`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerBalanceDtoFromJSON(jsonValue));
    }

    /**
     * Retrieves the real-time balance for a single customer\'s \"cash balance\" (the \"wallet-enabling\" feature).
     * Get Customer\'s Cash Balance
     */
    async getCustomerBalance(id: string, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerBalanceDto> {
        const response = await this.getCustomerBalanceRaw({ id: id }, initOverrides);
        return await response.value();
    }

    /**
     * Shows all saved payment methods (cards, etc.) for a single customer.
     * List Customer\'s Payment Methods
     */
    async listCustomerPaymentMethodsRaw(requestParameters: ListCustomerPaymentMethodsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ListCustomerPaymentMethodsResponseDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling listCustomerPaymentMethods().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['limit'] != null) {
            queryParameters['limit'] = requestParameters['limit'];
        }

        if (requestParameters['offset'] != null) {
            queryParameters['offset'] = requestParameters['offset'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers/{id}/payment-methods`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ListCustomerPaymentMethodsResponseDtoFromJSON(jsonValue));
    }

    /**
     * Shows all saved payment methods (cards, etc.) for a single customer.
     * List Customer\'s Payment Methods
     */
    async listCustomerPaymentMethods(id: string, limit?: number, offset?: number, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ListCustomerPaymentMethodsResponseDto> {
        const response = await this.listCustomerPaymentMethodsRaw({ id: id, limit: limit, offset: offset }, initOverrides);
        return await response.value();
    }

    /**
     * Provides the full transaction history for a single customer\'s \"cash balance\" (Pay-Ins, Purchases, Transfers).
     * List Customer\'s Cash Transactions
     */
    async listCustomerTransactionsRaw(requestParameters: ListCustomerTransactionsRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ListCustomerTransactionsResponseDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling listCustomerTransactions().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['limit'] != null) {
            queryParameters['limit'] = requestParameters['limit'];
        }

        if (requestParameters['offset'] != null) {
            queryParameters['offset'] = requestParameters['offset'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers/{id}/transactions`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ListCustomerTransactionsResponseDtoFromJSON(jsonValue));
    }

    /**
     * Provides the full transaction history for a single customer\'s \"cash balance\" (Pay-Ins, Purchases, Transfers).
     * List Customer\'s Cash Transactions
     */
    async listCustomerTransactions(id: string, limit?: number, offset?: number, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ListCustomerTransactionsResponseDto> {
        const response = await this.listCustomerTransactionsRaw({ id: id, limit: limit, offset: offset }, initOverrides);
        return await response.value();
    }

    /**
     * Retrieves a paginated list of all customers for the merchant.
     * List Customers
     */
    async listCustomersRaw(requestParameters: ListCustomersRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<ListCustomersResponseDto>> {
        const queryParameters: any = {};

        if (requestParameters['merchantId'] != null) {
            queryParameters['merchantId'] = requestParameters['merchantId'];
        }

        if (requestParameters['limit'] != null) {
            queryParameters['limit'] = requestParameters['limit'];
        }

        if (requestParameters['offset'] != null) {
            queryParameters['offset'] = requestParameters['offset'];
        }

        if (requestParameters['email'] != null) {
            queryParameters['email'] = requestParameters['email'];
        }

        if (requestParameters['search'] != null) {
            queryParameters['search'] = requestParameters['search'];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => ListCustomersResponseDtoFromJSON(jsonValue));
    }

    /**
     * Retrieves a paginated list of all customers for the merchant.
     * List Customers
     */
    async listCustomers(merchantId?: string, limit?: number, offset?: number, email?: string, search?: string, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<ListCustomersResponseDto> {
        const response = await this.listCustomersRaw({ merchantId: merchantId, limit: limit, offset: offset, email: email, search: search }, initOverrides);
        return await response.value();
    }

    /**
     * Gets the details for a single customer.
     * Retrieve Customer
     */
    async retrieveCustomerRaw(requestParameters: RetrieveCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerResponseDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling retrieveCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers/{id}`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerResponseDtoFromJSON(jsonValue));
    }

    /**
     * Gets the details for a single customer.
     * Retrieve Customer
     */
    async retrieveCustomer(id: string, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerResponseDto> {
        const response = await this.retrieveCustomerRaw({ id: id }, initOverrides);
        return await response.value();
    }

    /**
     * Updates a customer\'s details (e.g., email, metadata).
     * Update Customer
     */
    async updateCustomerRaw(requestParameters: UpdateCustomerRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<CustomerResponseDto>> {
        if (requestParameters['id'] == null) {
            throw new runtime.RequiredError(
                'id',
                'Required parameter "id" was null or undefined when calling updateCustomer().'
            );
        }

        if (requestParameters['updateCustomerDto'] == null) {
            throw new runtime.RequiredError(
                'updateCustomerDto',
                'Required parameter "updateCustomerDto" was null or undefined when calling updateCustomer().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && this.configuration.accessToken) {
            const token = this.configuration.accessToken;
            const tokenString = await token("bearer", []);

            if (tokenString) {
                headerParameters["Authorization"] = `Bearer ${tokenString}`;
            }
        }

        let urlPath = `/api/canary/customers/{id}`;
        urlPath = urlPath.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters['id'])));

        const response = await this.request({
            path: urlPath,
            method: 'PATCH',
            headers: headerParameters,
            query: queryParameters,
            body: UpdateCustomerDtoToJSON(requestParameters['updateCustomerDto']),
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => CustomerResponseDtoFromJSON(jsonValue));
    }

    /**
     * Updates a customer\'s details (e.g., email, metadata).
     * Update Customer
     */
    async updateCustomer(id: string, updateCustomerDto: UpdateCustomerDto, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<CustomerResponseDto> {
        const response = await this.updateCustomerRaw({ id: id, updateCustomerDto: updateCustomerDto }, initOverrides);
        return await response.value();
    }

}
